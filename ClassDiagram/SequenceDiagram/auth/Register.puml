@startuml Register (POST)

header Massage Reservation Sequence Diagram: Register
footer CEDT Chulalongkorn University
title "Register (POST)"

participant "User" as user
participant "<<javaScript>>\n:server" as server
participant "<<router>>\n:auth" as routerAuths
participant "<<controllers>>\n:auth" as controllersAuths
participant "<<model>>\n:User" as modelUser
database "<<MongoDB>>\n:user" as AuthsDatabase

user->server ++:req.post('/api/v1/auth/register')
server->routerAuths ++:app.use('/api/v1/auth',auth)
routerAuths -> controllersAuths ++:register()
controllersAuths->modelUser ++:create(name,email,password,tel,role)
modelUser ->AuthsDatabase ++: UserSchema
AuthsDatabase --> modelUser --: user
controllersAuths <-- modelUser --:user
controllersAuths->user --:response, token

@enduml
